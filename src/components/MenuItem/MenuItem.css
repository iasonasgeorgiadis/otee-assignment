/* MenuItem Component Styles */

.igds-menu-item {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--igds-menu-item-gap);
  padding: var(--igds-menu-item-padding-y) var(--igds-menu-item-padding-x);
  height: var(--igds-menu-item-height);
  box-sizing: border-box;

  font-family: var(--igds-menu-item-font-family);
  font-size: var(--igds-menu-item-font-size);
  font-weight: var(--igds-menu-item-font-weight);
  line-height: var(--igds-menu-item-line-height);

  background-color: var(--igds-menu-item-background-default);
  border-bottom: var(--igds-menu-item-border-width) var(--igds-menu-item-border-style) var(--igds-menu-item-border-color);

  cursor: pointer;
  user-select: none;

  transition: var(--igds-menu-item-transition-properties)
              var(--igds-menu-item-transition-duration)
              var(--igds-menu-item-transition-timing-function);
}

/* Hover State */
.igds-menu-item--hover:not(.igds-menu-item--disabled) {
  background-color: var(--igds-menu-item-background-hover);
}

/* Disabled State */
.igds-menu-item--disabled {
  cursor: not-allowed;
  background-color: var(--igds-menu-item-background-disabled);
}

/* Text Content */
.igds-menu-item__text {
  flex: 1;
  color: var(--igds-menu-item-text-default);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  transition: inherit;
}

.igds-menu-item--hover:not(.igds-menu-item--disabled) .igds-menu-item__text {
  color: var(--igds-menu-item-text-hover);
}

.igds-menu-item__text--disabled {
  color: var(--igds-menu-item-text-disabled);
}

/* Selected Icon Container */
.igds-menu-item__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--igds-menu-item-icon-size);
  height: var(--igds-menu-item-icon-size);
  flex-shrink: 0;
}

.igds-menu-item__checkmark {
  color: var(--igds-menu-item-icon-color);
}

/* Variant-specific styles */

/* Text Variant (default) */
.igds-menu-item--text {
  justify-content: flex-start;
}

.igds-menu-item--text.igds-menu-item--selected .igds-menu-item__text {
  flex: 1;
}

/* Checkbox Variants */
.igds-menu-item--checkbox-left,
.igds-menu-item--checkbox-right {
  padding: var(--igds-menu-item-padding-y) var(--igds-menu-item-padding-x);
}

/* Remove checkbox-specific hover styles since Checkbox handles its own states */
.igds-menu-item--checkbox-left .igds-checkbox,
.igds-menu-item--checkbox-right .igds-checkbox {
  width: 100%;
}

/* For checkbox-right variant, push checkbox to the far right */
.igds-menu-item--checkbox-right .igds-checkbox {
  justify-content: space-between;
}

.igds-menu-item--checkbox-right .igds-checkbox__label {
  flex: 1;
}

/* Ensure checkbox variants don't show extra hover styles */
.igds-menu-item--checkbox-left .igds-checkbox__label,
.igds-menu-item--checkbox-right .igds-checkbox__label {
  color: inherit;
}

/* Override checkbox label color to match menu item hover */
.igds-menu-item--hover:not(.igds-menu-item--disabled) .igds-checkbox__label {
  color: var(--igds-menu-item-text-hover) !important;
}

/* Prevent checkbox box from showing its own hover state when menu item is hovered */
.igds-menu-item--hover .igds-checkbox__box--hover::before {
  /* Reset to default state appearance, preventing checkbox hover */
  background-color: var(--igds-checkbox-background-unchecked-default) !important;
  border-color: var(--igds-checkbox-border-unchecked-default) !important;
}

.igds-menu-item--hover .igds-checkbox__box--checked.igds-checkbox__box--hover::before {
  background-color: var(--igds-checkbox-background-checked-default) !important;
  border-color: var(--igds-checkbox-border-checked-default) !important;
}

.igds-menu-item--hover .igds-checkbox__box--intermediate.igds-checkbox__box--hover::before {
  background-color: var(--igds-checkbox-background-intermediate-default) !important;
  border-color: var(--igds-checkbox-border-intermediate-default) !important;
}

.igds-menu-item--hover .igds-checkbox__box--plus.igds-checkbox__box--hover::before {
  background-color: var(--igds-checkbox-background-plus-default) !important;
  border-color: var(--igds-checkbox-border-plus-default) !important;
}

/* Focus states for accessibility */
.igds-menu-item:focus-visible {
  outline: 2px solid var(--igds-color-border-accent-primary);
  outline-offset: -2px;
}

/* Remove focus outline from nested checkbox input when menu item has focus */
.igds-menu-item:focus-visible .igds-checkbox__input {
  outline: none;
}

/* Keyboard navigation states */
.igds-menu-item:focus:not(.igds-menu-item--disabled) {
  background-color: var(--igds-menu-item-background-hover);
}

.igds-menu-item:focus:not(.igds-menu-item--disabled) .igds-menu-item__text {
  color: var(--igds-menu-item-text-hover);
}

.igds-menu-item:focus:not(.igds-menu-item--disabled) .igds-checkbox__label {
  color: var(--igds-menu-item-text-hover) !important;
}

/* Active/pressed state */
.igds-menu-item:active:not(.igds-menu-item--disabled) {
  background-color: var(--igds-menu-item-background-hover);
  transform: none; /* Prevent any transform effects */
}

/* Ensure consistent height regardless of content */
.igds-menu-item {
  min-height: var(--igds-menu-item-height);
  max-height: var(--igds-menu-item-height);
}

/* Handle long text gracefully */
.igds-menu-item__text {
  min-width: 0; /* Allows text to shrink below its natural width */
}

/* Icon alignment for text variant */
.igds-menu-item--text .igds-menu-item__icon {
  margin-left: auto; /* Push icon to the right */
}